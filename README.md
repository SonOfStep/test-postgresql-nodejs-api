# Простой пример работы REST API в связке технологий **NODE.JS**, **PostgreSQL** и **ExpressJS** ✨ 📗 📋 🚂 ✨

## Создаем пользователя и базу данных PostgreSQL

Для примера создадим пользователя **me**, который получит право создавать базы данных и установим ему заданный пароль. Потом добавим БД **api** от имени **me**

1. Входим в Postgres: `sudo -iu postgres`
2. Создаем пользователя: `createuser --createdb --password me` (c помощью параметра `--createdb` даем пользователю право создавать базы данных, а также с помощью параметра `--password` устанавливаем для него пароль)
3. Создаем базу данных: `createdb api -O me` (параметр -O устанавливает владельца)

## Создаем и наполняем таблицу в psql

1. Создаем таблицу users: `CREATE TABLE users(
    ID SERIAL PRIMARY KEY,
    name VARCHAR(30),
    EMAIL VARCHAR(30)
);`
2. Наполняем таблицу: `INSERT INTO users (name, email) VALUES ('Jerry', 'jerry@example.com'), ('George','george@example.com');`
> Не забываем про точку с запятой `;` в конце SQL комманд

## Поднимаем Express сервер

На этам этапе поднимем сервер со структурой, которая будет представлять из себя маршруты, контроллеры и службы базы данных.

1. Устанавливаем зависимости: `yarn add express pg` или `npm install express pg`
2. Создаем и наполняем файл index.js
3. Создаем и наполняем файлы routers(Маршруты API сопоставляются с контроллерами), controllers(Обрабатывают всю логику проверки параметров запроса, отправки ответов с правильным кодом), services (Службы содержат запросы к базе данных и возвращают объекты или выдают ошибки)
> Никто не запрещает использовать `dotenv` чтобы хранить данные базы данных, пользователя БД, порт, на котором запускается Express сервер
> Пример структуры "Route-Controller-Services" см. [здесь](https://sodocumentation.net/node-js/topic/10785/route-controller-service-structure-for-expressjs)
>  